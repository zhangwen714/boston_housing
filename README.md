## **问题1 -特征观察**
提醒一下，我们使用了来自波士顿住房数据集的三个特性:“RM”、“LSTAT”和“PTRATIO”。对于每个数据点(邻域):
“RM”指的是附近住户的平均房间数。
“LSTAT”指的是该社区中被认为是“较低阶层”(即有工作的穷人)的房主比例。
“PTRATIO”指的是附近中小学的师生比例。
提示:这个问题可以用下面的例子来表达。
你认为RM值为6的房子会比RM值为7的房子更值钱吗?
你认为一个“LSTAT”值为15的社区的房价会比一个“LSTAT”值为20的社区的房价高还是低?
你会认为一个PTRATIO值为10的社区的房价会比一个PTRATIO值为15的社区的房价高还是低?

##*Answer: * *Answer: *YES

* RM：该值增加，MEDV也会增加。因为随着房屋数量的增加，相对房屋价格应该会减小。
* LSTAT：该值增加，MEDV会减小。因为低收入者多的地方，他们居住的地区房屋价格会低一些。
*PTRATIO：该值增加，MEDV会减小。因为师生数量比表明了一个地方教育发展状况，比值越大，说明该地区缺老师，教育状况较差，因此该地区房价也会低。

## **问题2 -拟合优度**
假设一个数据集包含五个数据点，一个模型对目标变量做出如下预测:
真正价值的预测
3.0 2.5
-0.5 0.0
2.0 2.1
7.0 7.8
4.2 5.3
运行下面的代码单元，使用performance_metric函数并计算此模型的确定系数。

四段程序：
.# Calculate the performance of this model
score = performance_metric([3, -0.5, 2, 7, 4.2], [2.5, 0.0, 2.1, 7.8, 5.3])
print("Model has a coefficient of determination, R^2, of {:.3f}.".format(score))

答案：0.923

## **问题3:培训和测试**
* 将一个数据集分解成一个学习算法的训练子集和测试子集的比例有什么好处?
**提示:**考虑如何过度拟合或过拟合取决于如何分割数据。
*Answer: *

* 将数据集分成训练集和测试集的好处：既可以用于训练又可以用于测试，而且不会相互干扰，而且可以对训练模型进行有效的验证。
* 用部分训练集进行测试的坏处：模型就是根据训练集得出的，使用训练集进行测试肯定会得出较好的结果，这不能判断训练模型的优劣。

## **问题4 -学习数据**
* 选择上面的一个图形，并说明模型的最大深度。
* 当 增加更多的训练点数时，训练曲线的分数会发生什么变化?测试曲线呢?
* 拥有更多的训练点数对模型有利吗?

*Answer: *

*最大深度为3时，随着训练数据的增加，训练集曲线的评分趋于稳定大约为0.8，验证集的 评分也趋于稳定在接近0.8的附近。很显然训练集数据评分趋于稳定，再增加训练数据不能提升模型的表现。（图片）

## **问题5 -偏差-方差权衡**
* 当模型以最大深度1进行训练时，模型是否存在高偏差或高方差?
* 当模型以最大深度10进行训练时又如何呢?图表中的哪些视觉线索证明了你的结论?
**提示:** 高偏差是拟合不足的标志(模型不够复杂，无法捕捉到数据中的细微差别)，而高偏差是过度拟合的标志(模型只是对数据进行旁听，不能很好地泛化)。考虑哪种模型(深度1或10)与折衷的哪一部分相一致。
*Answer: *


* 偏差（bias）：描述的是根据样本拟合出的模型的输出预测结果与实际结果的差距，简单讲就是在样本上拟合的好不好。要想在偏差上表现的好low
 bias，就要复杂化模型，增加模型的参数。但是这样容易过拟合overfiting,过拟合对应的就是大方差high variance。 方差（variance）：描述的是在样本上训练出来的模型在测试集上的表现。想要表现的好low variance，就要简化模型减少模型的参数。但是这样容易欠拟合high bias，偏离实际结果。

* 模型以最大深度为1时，模型的预测出现了较大的偏差，因为R2分数较低，说明属于欠拟合。
* 模型以最大深度大于5时，模型的预测出现了较大的方差，因为训练集的分数和测试集的分数相差较大。图像中，随着深度的增加，红色和绿色线条之间的距离越来越大。

## **问题6 -最佳猜测的最佳模型**
* 您认为哪个最大深度的模型可以最好地概括为不可见的数据?
* 你凭什么直觉得出这个答案?

**Answer: **

* 深度为3-4的时候可以更好地预测，因为在3-4的时候偏差和方差都趋近于最小，可以保证预测结果既不偏离实际又不会太分散。

## **评估模型的性能**
在项目的最后一部分中，您将构建一个模型，并使用来自fit_model的优化模型对客户机的特性集进行预测。

## **问题7:网格搜索**
* 什么是网格搜索技术?
* 如何应用它来优化学习算法?
**Answer: **

* 网格搜索算法是一种通过遍历给定的参数组合来优化模型表现的算法,指定参数值进行穷举搜索。

* 将各个参数可能的取值进行排列组合，列出所有可能的组合结果生成“网格”。然后将各组合用于SVM训练，并使用交叉验证对表现进行评估。在拟合函数尝试了所有的参数组合后，返回一个合适的分类器，自动调整至最佳参数组合，对每一组数据进行跟踪评分，选择评分最高的组，作为最优解。

## **问题8 -交叉验证**
* 什么是k-fold交叉验证训练技术?
* 这种技术在优化模型时为网格搜索提供了什么好处?
**提示:** 在解释k-fold交叉验证技术时，一定要提到“k”是什么，如何将数据集分割成不同的部分进行培训和测试，以及基于“k”值运行数据集的次数。
当考虑k-fold交叉验证如何帮助网格搜索时，请考虑网格搜索的主要缺点，这些缺点取决于使用特定的数据子集进行培训或测试，以及k-foldcv如何帮助缓解这些问题。你的答案可以参考文档。
**Answer: **

* 将训练集数据分成K份，取其中一份作测试集，余下的k-1份作为训练数据，得出k个测试分数求平均值。
* 如果不结合交叉验证的话，要自己实现不同的验证组合方式。

* K折交叉验证法是将训练集中的数据分成k分（一般取k=10），取第k份作为验证集，其他所有k-1份作为训练集，用第k份数据来评分。可以用来预测模型性能。
* GridSearchCV根据你给定的模型自动进行交叉验证，通过调节每一个参数来跟踪评分结果，实际上，该过程代替了进行参数搜索时的for循环过程.在尝试所有组合后，对每组数据进行跟踪评分，从而选择一组最佳参数组合作为最优解。而其通过调节其cv参数来实现与较差验证来实现最佳参数的选择，bestparams属性查看最优解。
* 交叉验证的结果。
* 网格搜索不使用交叉验证，使训练速度更快，但是难以找到到最优的模型参数；交叉验证对每一个参数组合得出的评分更为准确和鲁棒，提高评估的稳定性。


## **问题9 -最优模型**
* 最优模型的最大深度是多少?这个结果与你在问题6中的猜测相比如何?
运行下面的代码块，将决策树回归器与训练数据进行匹配，并生成最优模型。

程序：
* # Fit the training data to the model using grid search
reg = fit_model(X_train, y_train)

* # Produce the value for 'max_depth'
print("Parameter 'max_depth' is {} for the optimal model.".format(reg.get_params()['max_depth']))

Parameter 'max_depth' is 4 for the optimal model.
参数'max_depth'为4为最优模型。

**提示:**答案来自上面代码片段的输出。
答:
' max_depth '为4为最优模型。
与猜测基本一致，深度为4

## **问题10 -预测销售价格**
假设你是波士顿地区的一名房地产经纪人，想要用这个模型来帮助客户为他们希望出售的房产定价。你已从三名客户收集下列资料:
功能客户端1客户端2客户端3
共有5间房，4间房，8间房
社区贫困率(as %) 17% 32% 3%
附近学校的师生比例为15比1、22比1、12比1
* 你建议每个客户以什么价格出售他/她的房子?
* 考虑到股票的价值，这些价格合理吗？
**提示:** 使用您在数据探索部分计算的统计数据来帮助证明您的回答。在三个客户中，客户3拥有最大的房子，在最好的公立学校街区，贫困率最低;而客户2的房子最小，所在社区的贫困率相对较高，公立学校也不是最好的。
运行下面的代码块，让您的优化模型为每个客户端做出预测。

程序：
.# Produce a matrix for client data
client_data = [[5, 17, 15], # Client 1
               [4, 32, 22], # Client 2
               [8, 3, 12]]  # Client 3

.# Show predictions
for i, price in enumerate(reg.predict(client_data)):
    print("Predicted selling price for Client {}'s home: ${:,.2f}".format(i+1, price))

Predicted selling price for Client 1's home: $406,933.33
Predicted selling price for Client 2's home: $232,200.00
Predicted selling price for Client 3's home: $938,053.85

**答:**
客户1的房子预计售价:406,933.33美元
客户2的房子预计售价:$232,200.00
客户3的房屋预计售价:938053.85美元

合理，因为刚刚预测的数据都在最大最小值内，且去均值也与数据集较相近
根据当地整体房价价格，这三套房型都在合理售价范围内，并且根据其分布地区的不同贫富情况定价比较符合实际。

## **Question 11 - 适用性**

用几句话，讨论所构建的模型是否应该在真实世界中使用。
提示:看看上面代码片段中计算的价格范围。以下是一些需要回答的问题:

* 1. 从1978年收集的数据在今天有多大的相关性?通货膨胀有多重要?
* 2.数据中的特征是否足以描述一个家?你认为像房屋内的应用程序质量、地块面积的平方英尺、泳池的存在与否等因素应该考虑在内吗?
* 3.这个模型是否足够健壮，可以做出一致的预测?
* 4.在波士顿这样的城市收集的数据是否适用于农村城市?
* 5.根据整个社区的特点来判断一套房子的价格公平吗?

**Answer: **

* 1.由于时间过于久远，基本不适用于今天。

  通货膨胀对居民收入和居民消费的影响：
  （1）实际收入水平下降
  （2）价格上涨的收入效应和替代效应导致福利减少
  （3）通货膨胀的收入分配效应：具体表现为：低收入者（拥有较少禀赋者）福利受损，高收入者（拥有较多禀赋者）却可以获益；以工资和租金、利息为收入者，在通货膨胀中会遭受损害；而以利润为主要收入者，却可能获利。

* 2.不能，房屋的价格还和设计、外观、新旧程度等相关。

* 3.基本每次预测的结果都在400万左右差距不大，因此可以说该模型比较健壮。

* 4.不适用，因为相关的政策医疗，地区的发展状况都发生了变化。

* 5.不合理，因为房屋的价格跟房屋的质量，房屋的新旧程度，房屋的装修程度有关系。


## **多元线性回归模型与BP神经网络模型**

* 多元线性回归利用线性来拟合多个自变量和因变量的关系，从而确定多元线性回归模型的参数，回归至原假设方程中，通过回归方程来预测因变量的趋势。

* BP 神经网络作为一种根据误差逆传播算法训练的多次前馈网络，它通过对人类神经元的功能进行模拟，可以储存及学习大量的输入数据和输出数据，且不需对变量的映射关系进行描述，利用输入和输出数据建模， 其对非线性系统具有很强的模拟能力。
 
 多元线性回归分析和BP神经网络二者都可以进行预测研究，但很难详细地区别二者的预测精度问题。

* BP 神经网络模型具有较高的拟合优度及良好的建模效果．
* 
 * BP 神经网络模型仿真值的绝对误差波动较小， 更稳定， 且小于多元线性回归模型模
拟值的绝对误差．
* BP 神经网络预测模型对 2010 年和 2011 年预测误差为 － 0． 98% 和 0． 93% ， 预测精度为99. 12% 和 99． 07% ． 而多元线性回归预测模型误差为 1． 37% 和 2． 43% ，预测精度为98．63%和97．57%，相比而言，BP神经网络预测模型的预测精度更高，更稳定．

* 介绍及建立多元线性回归模型和 BP 神经网络模型， 并结合农村居民人均纯收入算例， 验证多元线性回归模型和 BP 神经网络模型都可用于模拟及预测， 但研究结果证明， BP 神经网络在模型的拟合优度、对初始数据的仿真与模拟能力和对新数据的预测能力方面有较明显的优势，BP神经网络模型的非线性映射关系对变量的处理效果优于多元线性回归模型的线性关系